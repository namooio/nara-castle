akka {
  actor {
    provider = "cluster"
    serializers {
      narajson = "nara.share.actor.akka.serializer.NaraJsonSerializer"
    }
    serialization-bindings {
      "nara.share.domain.event.NaraEvent" = narajson
      "nara.share.domain.protocol.NaraProtocol" = narajson
    }
  }

  remote {
    log-remote-lifecycle-events = off
    netty.tcp {
      hostname = "127.0.0.1"
      port = 2551
    }
  }

  cluster {
    seed-nodes = [
      "akka.tcp://nara-test@127.0.0.1:2551",
      "akka.tcp://nara-test@127.0.0.1:2552"]
    # auto downing is NOT safe for production deployments.
    # you may want to use it during development, read more about it in the docs.
    #
    # auto-down-unreachable-after = 10s
  }
}

akka.persistence.journal {
  plugin = "inmemory-journal"
  snapshot-store.plugin = "inmemory-snapshot-store"
}

inmemory-journal {
  event-adapters {
    tagging = "nara.castle.actor.akka.projection.CastleJournalEventAdapter"
  }
  event-adapter-bindings {
    "nara.share.domain.event.NaraEvent" = tagging
  }
}